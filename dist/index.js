"use strict";var l=Object.defineProperty;var w=Object.getOwnPropertyDescriptor;var x=Object.getOwnPropertyNames;var y=Object.prototype.hasOwnProperty;var L=(t,e)=>{for(var a in e)l(t,a,{get:e[a],enumerable:!0})},E=(t,e,a,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of x(e))!y.call(t,r)&&r!==a&&l(t,r,{get:()=>e[r],enumerable:!(o=w(e,r))||o.enumerable});return t};var M=t=>E(l({},"__esModule",{value:!0}),t);var T={};L(T,{Link:()=>C,Protected:()=>P,RouterProvider:()=>R,useNavigate:()=>d});module.exports=M(T);var s=require("react"),u=require("react/jsx-runtime"),c=typeof window<"u",v=()=>c?window.location.pathname:"/",f=(0,s.createContext)({path:v(),navigate:()=>{console.warn("RouterContext usado fuera de RouterProvider")}});function R({routes:t,children:e,layout:a}){let[o,r]=(0,s.useState)(v());(0,s.useEffect)(()=>{if(!c)return;let n=()=>r(window.location.pathname);return window.addEventListener("popstate",n),()=>window.removeEventListener("popstate",n)},[]);let i=(0,s.useCallback)(n=>{if(!c){r(n);return}if(typeof n!="string"||n.includes("javascript:")||n.includes("data:")){console.warn("MichiRouter: URL potencialmente insegura bloqueada:",n);return}window.history.pushState({},"",n),r(n)},[]),m=t.find(n=>n.path===o),g=m?m.component:e;try{return(0,u.jsx)(f.Provider,{value:{path:o,navigate:i},children:a?(0,u.jsx)(a,{children:g}):g})}catch(n){return console.error("Error en RouterProvider:",n),(0,u.jsx)("div",{children:"Error en el enrutador. Consulta la consola para m\xE1s detalles."})}}var C=({to:t,children:e,className:a,...o})=>{let{navigate:r}=(0,s.useContext)(f);return(0,u.jsx)("a",{href:t,className:a,onClick:i=>{i.preventDefault(),r(t)},...o,children:e})},d=()=>{let{navigate:t}=(0,s.useContext)(f);return t};var h=require("react");var p=require("react/jsx-runtime");function P({children:t,configObject:e}){let a=d(),o={states:e?.states||{user:null,isLoading:!1},redirectionPath:e?.redirectionPath||"/",loadingComponent:e?.loadingComponent||null,defaultMessage:e?.defaultMessage||void 0};if(!e?.states)return console.error(`Componente Protected: El objeto de configuraci\xF3n es inv\xE1lido. Este es el formato esperado:
{
  states: { user: any; isLoading: boolean };
  redirectionPath: string;
  loadingComponent?: React.ReactNode;
  defaultMessage?: string;
}`),null;let{user:r,isLoading:i}=o.states;return(0,h.useEffect)(()=>{!i&&!r&&a(o.redirectionPath)},[i,r,a,o.redirectionPath]),i?o.loadingComponent?o.loadingComponent:o.defaultMessage?(0,p.jsx)(p.Fragment,{children:o.defaultMessage}):null:r?t:null}0&&(module.exports={Link,Protected,RouterProvider,useNavigate});
